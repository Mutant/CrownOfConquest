<script>
function showBanishPartyDiag(partyId, partyName) {
	dojo.byId('banished-party-id').value = partyId;
	dojo.byId('banished-party-name').innerHTML= partyName;
	dijit.byId('banish-party-diag').show();
}

function adjustKingdomGold(action) {
	var textAction;
	if (action == 'add') {
		textAction = 'add to';
	}
	else {
		textAction = 'take from';
	}

	dojo.byId('kingdom-adjust-gold-action').innerHTML = textAction;
	dojo.byId('gold-action').value = action;
	dijit.byId('kingdom-adjust-gold').show();
}

</script>

<div dojoType="dijit.Dialog" id="kingdom-adjust-gold" style="display: none" title="Gold">
	<form method="POST" action="[% base %]kingdom/adjust_gold" onSubmit="postPanels(this); return false">
	<input type="hidden" name="action" id="gold-action" />
    Amount of gold you want to <span id="kingdom-adjust-gold-action"></span> the Kingdom:
    <input type="text"
        dojoType="dijit.form.NumberTextBox"
        name="gold"
        value="1"
        constraints="{min:1,places:0}"
        required= "true"
        invalidMessage= "Invalid quantity."
		style="width: 80px"
        />
    <br>
	<div align="center">
    	<button dojoType=dijit.form.Button type="submit">OK</button>
		<button dojoType=dijit.form.Button onClick="dijit.byId('kingdom-adjust-gold').hide()">Cancel</button>
	</div>
	</form>
</div>

<h2>Manage the Kingdom of [% kingdom.name %]</h2>

Kingdom Treasury: [% kingdom.gold %] gold
<span style="font-size: 10px">
	<a href="#" onClick="adjustKingdomGold('add')">Add Gold</a>
	<a href="#" onClick="adjustKingdomGold('take')">Take Gold</a>
</span>
<br style="clear: left">
<br>

<div class="kingdomsTabContainer" dojoType="dijit.layout.TabContainer">

[% FOREACH tab IN [ 'Parties', 'Towns', 'Quests', 'Tax', 'Records', 'Messages' ] %]
	[% lower_tab = tab | lower %]
	<div dojoType="dijit.layout.ContentPane" title="[% tab %]" href="[% base %]kingdom/[% tab | lower %]" [% IF selected == lower_tab %]selected=true[% END %]></div>
[% END %]
	
</div>