	[% IF message.defender.is_character %]
		[% 
			target_class  = "combat-party-attacker"
		%]
	[% ELSE %]
		[% 
			target_class  = "combat-creature-attacker"
		%]
	[% END %]	

<span class="combat-party-attacker">[% message.attacker.name %]</span> cast <span class="combat-weapon">[% message.spell_name %]</span> on 
<span class="[% target_class %]">[% message.defender.name %]</span>

[% IF message.resisted %]
	, but [% message.defender.pronoun('subjective') %] resisted!
[% ELSE %]
	[% message.effect %] [% message.defender.pronoun('objective') %] for <span class="combat-party-attacker">[% message.damage %]</span> hit points.
	
	[% IF message.defender_killed %]<span class="combat-creature-attacker">[% message.defender_killed %]</span> was killed![% END %]
[% END %]