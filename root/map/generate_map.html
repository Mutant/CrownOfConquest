[% PROCESS map/map_common.html %]

[%
    height = sector_height * y_size + 2;
    width =  sector_width * x_size + 2;
%]

<style>
.container2 {position:relative; width: [% width %]px; height: [% height %]px; min-height: [% height %]px; min-width: [% width %]px; }
.holder2 {display:block; color:#000;}

* html .container2 {border-right:[% width + 200 %]px solid #000;}
* html .holder2 {float:left; position:relative; margin-right:-[% width + 200 %]px;}
</style>


<div class="container2">
<div class="holder2" id="map-holder">

[% FOREACH y IN y_range %]
    <div class="map-row">
    [% FOREACH x IN x_range %]
        [% position = undef %]
        [% IF x > 0 && y > 0 %]
            [% position = grid.$x.$y %]
        [% END %]

        <span id="outer_sector_[% x %]_[% y %]" class="sector-outer" x="[% x %]" y="[% y %]">
            [% INCLUDE map/sector_inner.html %]
        </span>


    [% END %]
    </div>
[% END %]
</div>
</div>
