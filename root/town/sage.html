[% UNLESS messages %]
The Sage of [% town.town_name %] welcomes you. He offers the following services:
[% ELSE %]
[% messages %]
<br><br>
Do you require any further services?
[% END %]

<ul>
	<li><a href="javascript:dijit.byId('sage-town-diag').show()">Find a town</a></li>
</ul>

<div dojoType="dijit.Dialog" id="sage-town-diag" style="display: none" title="Find A Town" execute="findTown(arguments[0]);">
	<table>
	    <tr>
	    	<td>Which town would you like to find?</td>
	    	<td><input type="text" size="50" name="town_name" dojoType="dijit.form.TextBox"></td>
	    </tr>
	    <tr>
		    <td>What would you like to find?</td>
		    <td>
		    	<select dojoType="dijit.form.FilteringSelect" name="find_type" autocomplete="false">
	                <option value="direction">Direction ([% direction_cost %] gold)</option>
	                <option value="distance">Distance ([% distance_cost %] gold)</option>
	                <option value="location">Location ([% location_cost %] gold)</option>
			</select>
		    </td>
		</tr>
	</table>
	<div align="center"><button dojoType=dijit.form.Button type="submit" id="sage-dialog-submit">OK</button></div>
</div>

[% INCLUDE town/town_footer.html %]